{
  "version": 3,
  "sources": ["../../react-session-api/index.js"],
  "sourcesContent": ["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar Config = {\n  useBrowserStorage: false,\n  timeout: 0\n};\nvar Helper = {\n  access: new Date(),\n  expired: function expired(storage) {\n    var expireMinute = Math.round((new Date() - Helper.access) / 60000);\n\n    if (expireMinute > Config.timeout && Config.timeout !== 0) {\n      console.warn(\"Session expired!\", storage);\n      storage.clear();\n    }\n\n    Helper.access = new Date();\n  }\n};\n\nvar Storage = function Storage() {\n  try {\n    if (!Config.useBrowserStorage) throw new Error();\n    var key = \"jcfOnRWMIvigArtNb1z3hj6yQ2xlZGiD\";\n    sessionStorage.setItem(key, key);\n    sessionStorage.removeItem(key);\n    return sessionStorage;\n  } catch (e) {\n    var _SessionStorage = {};\n    Object.defineProperty(_SessionStorage, \"length\", {\n      get: function get() {\n        return Object.keys(this).length;\n      },\n      enumerable: false,\n      __proto__: null\n    });\n    Object.setPrototypeOf(_SessionStorage, {\n      setItem: function setItem(key, value) {\n        _SessionStorage[key] = value;\n      },\n      getItem: function getItem(key) {\n        return _SessionStorage[key];\n      },\n      removeItem: function removeItem(key) {\n        delete _SessionStorage[key];\n      },\n      clear: function clear() {\n        _SessionStorage = {};\n      }\n    });\n    return _SessionStorage;\n  }\n};\n\nvar SessionStorage =\n/*#__PURE__*/\nfunction () {\n  function SessionStorage() {\n    _classCallCheck(this, SessionStorage);\n\n    this.Storage = Storage();\n    this.Callback = [];\n  }\n  /**\r\n   * @param {boolean} browserStorage Use browser sessionStorage.\r\n   * @param {number} timeout Session timeout period, in minutes.\r\n   */\n\n\n  _createClass(SessionStorage, [{\n    key: \"config\",\n    value: function config() {\n      var browserStorage = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      var timeout = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      Config.useBrowserStorage = browserStorage;\n      Config.timeout = timeout;\n      this.Storage = Storage();\n    }\n    /**\r\n    * @return {Array<Object>} Return session items.\r\n    */\n\n  }, {\n    key: \"items\",\n    value: function items() {\n      var _this = this;\n\n      Helper.expired(this.Storage);\n      var sessionData = {};\n      Object.keys(this.Storage).forEach(function (item) {\n        sessionData[item] = _this.Storage.getItem(item);\n      });\n      return sessionData;\n    }\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      this.Storage.clear();\n    }\n    /**\r\n     * @param {string} key Session item key.\r\n     * @param {Object|string} value Session item value. If you are using browser storage, it can only take {:string}.\r\n     */\n\n  }, {\n    key: \"set\",\n    value: function set(key, value) {\n      Helper.expired(this.Storage);\n      this.Storage.setItem(key, value);\n      var data = this.items();\n      this.Callback.forEach(function (func) {\n        func(data);\n      });\n    }\n    /**\r\n    * @param {string} key Session item key.\r\n    * @return {Object} Session item value. If you are using browser storage, it can return {:string}.\r\n    */\n\n  }, {\n    key: \"get\",\n    value: function get(key) {\n      Helper.expired(this.Storage);\n      return this.Storage.getItem(key);\n    }\n    /**\r\n    * @param {string} key Session item key.\r\n    */\n\n  }, {\n    key: \"remove\",\n    value: function remove(key) {\n      return this.Storage.removeItem(key);\n    }\n    /**\r\n    * @param {func} callback Triggered when session items set.\r\n    */\n\n  }, {\n    key: \"onSet\",\n    value: function onSet(callback) {\n      var filter = this.Callback.filter(function (f) {\n        return f.name === callback.name;\n      });\n\n      if (filter.length === 0) {\n        callback(this.items());\n        this.Callback.push(callback);\n      }\n    }\n    /**\r\n    * @param {string} callbackName Callback function key.\r\n    */\n\n  }, {\n    key: \"unmount\",\n    value: function unmount(callbackName) {\n      this.Callback = this.Callback.filter(function (f) {\n        return f.name !== callbackName;\n      });\n    }\n  }]);\n\n  return SessionStorage;\n}();\n\nvar Session = new SessionStorage();\nvar _default = Session;\nexports[\"default\"] = _default;\n"],
  "mappings": "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",
  "names": ["Storage", "key", "SessionStorage"]
}
